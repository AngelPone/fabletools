<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a new class of decomposition — new_decomposition_class • fablelite</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create a new class of decomposition — new_decomposition_class" />

<meta property="og:description" content="Suitable for extension packages to create new decompositions for fable." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fablelite</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/tidyverts/fablelite">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a new class of decomposition</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverts/fablelite/blob/master/R/definitions.R'><code>R/definitions.R</code></a></small>
    <div class="hidden name"><code>new-dcmp-class.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Suitable for extension packages to create new decompositions for fable.</p>
    
    </div>

    <pre class="usage"><span class='fu'>new_decomposition_class</span>(<span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"Unknown model"</span>,
  <span class='kw'>train</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>.data</span>, <span class='no'>formula</span>, <span class='no'>specials</span>, <span class='no'>...</span>)
  <span class='fu'>abort</span>(<span class='st'>"This decomposition has not defined a training method."</span>),
  <span class='kw'>specials</span> <span class='kw'>=</span> <span class='fu'><a href='new_specials.html'>new_specials</a></span>(), <span class='kw'>check</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>.data</span>) {     <span class='kw'>if</span>
  (<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>NROW</a></span>(<span class='no'>.data</span>) <span class='kw'>==</span> <span class='fl'>0</span>)          <span class='fu'>abort</span>(<span class='st'>"There is no data to decompose!"</span>) },
  <span class='kw'>prepare</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>...</span>) { }, <span class='no'>...</span>, <span class='kw'>.env</span> <span class='kw'>=</span> <span class='fu'>caller_env</span>(),
  <span class='kw'>.inherit</span> <span class='kw'>=</span> <span class='no'>decomposition_definition</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>method</th>
      <td><p>The name of the decomposition method</p></td>
    </tr>
    <tr>
      <th>train</th>
      <td><p>A function that trains the model to a dataset. <code>.data</code> is a tsibble
containing the data's index and response variables only. <code>formula</code> is the
user's provided formula. <code>specials</code> is the evaluated specials used in the formula.</p></td>
    </tr>
    <tr>
      <th>specials</th>
      <td><p>Special functions produced using <code><a href='new_specials.html'>new_specials()</a></code></p></td>
    </tr>
    <tr>
      <th>check</th>
      <td><p>A function that is used to check the data for suitability with
the model. This can be used to check for missing values (both implicit and
explicit), regularity of observations, ordered time index, and univariate
responses.</p></td>
    </tr>
    <tr>
      <th>prepare</th>
      <td><p>This allows you to modify the model class according to user
inputs. <code>...</code> is the arguments passed to <code>new_model_definition</code>, allowing
you to perform different checks or training procedures according to different
user inputs.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments to <code><a href='https://www.rdocumentation.org/packages/R6/topics/R6Class'>R6::R6Class()</a></code>. This can be useful to set up
additional elements used in the other functions. For example, to use
<code><a href='https://fable.tidyverts.org/reference/common_xregs.html'>fable::common_xregs</a></code>, an <code>origin</code> element in the model is used to store
the origin for <code>trend()</code> and <code>fourier()</code> specials. To use these specials, you
must add an <code>origin</code> element to the object (say with <code>origin = NULL</code>).</p></td>
    </tr>
    <tr>
      <th>.env</th>
      <td><p>The environment from which functions should inherit from.</p></td>
    </tr>
    <tr>
      <th>.inherit</th>
      <td><p>A model class to inherit from.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function produces a new R6 decomposition definition. An understanding of R6 is
not required, however could be useful to provide more sophisticated model
interfaces. All functions have access to <code>self</code>, allowing the functions for
training the model and evaluating specials to access the model class itself.
This can be useful to obtain elements set in the <!-- %TODO --></p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://mitchelloharawild.com'>Mitchell O'Hara-Wild</a>, <a href='http://robjhyndman.com'>Rob Hyndman</a>, <a href='https://earo.me'>Earo Wang</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

